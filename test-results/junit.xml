<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="37" failures="11" errors="0" time="0.666">
  <testsuite name="MCP Configuration" errors="0" failures="4" skipped="0" timestamp="2025-07-15T03:40:25" time="0.294" tests="30">
    <testcase classname="MCP Configuration › loadMCPConfig" name="should load default configuration when no environment variables set" time="0.002">
    </testcase>
    <testcase classname="MCP Configuration › loadMCPConfig" name="should override defaults with environment variables" time="0">
    </testcase>
    <testcase classname="MCP Configuration › loadMCPConfig" name="should handle invalid numeric environment variables" time="0">
    </testcase>
    <testcase classname="MCP Configuration › loadMCPConfig" name="should validate configuration and throw on invalid values" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Configuration Validation" name="should validate valid configuration" time="0">
    </testcase>
    <testcase classname="MCP Configuration › Configuration Validation" name="should reject invalid port numbers" time="0.002">
    </testcase>
    <testcase classname="MCP Configuration › Configuration Validation" name="should reject invalid host values" time="0.002">
    </testcase>
    <testcase classname="MCP Configuration › Configuration Validation" name="should reject invalid timeout values" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Configuration Validation" name="should reject invalid log levels" time="0.003">
    </testcase>
    <testcase classname="MCP Configuration › Configuration Validation" name="should reject invalid directory paths" time="0.001">
      <failure>Error: expect(received).toThrow(expected)

Expected pattern: /directory must be a non-empty string/

Received function did not throw
    at /Users/pw/code/everest/pipeliner/tests/mcp/config.test.js:295:11
    at Array.forEach (&lt;anonymous&gt;)
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/config.test.js:280:22)
    at Promise.then.completed (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at _runTest (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/pw/code/everest/pipeliner/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/pw/code/everest/pipeliner/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MCP Configuration › Configuration Validation" name="should reject invalid allowed hosts" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Tool Name Functions" name="should create tool name correctly" time="0">
    </testcase>
    <testcase classname="MCP Configuration › Tool Name Functions" name="should extract pipeline name correctly" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Tool Name Functions" name="should return null for invalid tool names" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Tool Name Functions" name="should handle custom tool prefix" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Pipeline Configuration" name="should return correct configuration for known pipelines" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Pipeline Configuration" name="should return default configuration for unknown pipelines" time="0">
    </testcase>
    <testcase classname="MCP Configuration › Path Utilities" name="should return absolute path for relative paths" time="0">
      <failure>TypeError: expect(...).not.toStartWith is not a function
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/config.test.js:424:32)
    at Promise.then.completed (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at _runTest (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/pw/code/everest/pipeliner/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/pw/code/everest/pipeliner/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MCP Configuration › Path Utilities" name="should return unchanged path for absolute paths" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Path Utilities" name="should handle Windows-style paths" time="0.003">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;C:\\Users\\test\\pipelines&quot;
Received: &quot;/Users/pw/code/everest/pipeliner/C:\\Users\\test\\pipelines&quot;
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/config.test.js:436:44)
    at Promise.then.completed (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at _runTest (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/pw/code/everest/pipeliner/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/pw/code/everest/pipeliner/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MCP Configuration › Environment Configuration" name="should return development config" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Environment Configuration" name="should return production config" time="0">
    </testcase>
    <testcase classname="MCP Configuration › Environment Configuration" name="should return test config" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Environment Configuration" name="should return empty config for unknown environment" time="0">
    </testcase>
    <testcase classname="MCP Configuration › Environment Configuration" name="should apply environment config correctly" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › MCP Capabilities" name="should return correct capabilities" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › MCP Capabilities" name="should use config log level" time="0">
    </testcase>
    <testcase classname="MCP Configuration › getMCPConfig Integration" name="should return complete configuration with environment overrides" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › getMCPConfig Integration" name="should handle production environment" time="0.001">
    </testcase>
    <testcase classname="MCP Configuration › Error Messages" name="should have all required error messages" time="0">
      <failure>ReferenceError: require is not defined
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/config.test.js:570:33)
    at Promise.then.completed (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at _runTest (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/pw/code/everest/pipeliner/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/pw/code/everest/pipeliner/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/pw/code/everest/pipeliner/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
  </testsuite>
  <testsuite name="Claude Desktop Workflow Simulation" errors="0" failures="7" skipped="0" timestamp="2025-07-15T03:40:25" time="0.08" tests="7">
    <testcase classname="Claude Desktop Workflow Simulation › Claude Desktop Connection Simulation" name="should establish connection with Claude Desktop" time="0.001">
      <failure>TypeError: Server.mockImplementation is not a function
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/claude-simulation.test.js:60:12)</failure>
    </testcase>
    <testcase classname="Claude Desktop Workflow Simulation › Claude Desktop Connection Simulation" name="should handle Claude Desktop tool discovery request" time="0.001">
      <failure>TypeError: Server.mockImplementation is not a function
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/claude-simulation.test.js:60:12)</failure>
    </testcase>
    <testcase classname="Claude Desktop Workflow Simulation › Realistic Claude Desktop Usage Scenarios" name="should handle Claude analyzing a research paper" time="0">
      <failure>TypeError: Server.mockImplementation is not a function
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/claude-simulation.test.js:60:12)</failure>
    </testcase>
    <testcase classname="Claude Desktop Workflow Simulation › Realistic Claude Desktop Usage Scenarios" name="should handle Claude creating social media content" time="0.001">
      <failure>TypeError: Server.mockImplementation is not a function
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/claude-simulation.test.js:60:12)</failure>
    </testcase>
    <testcase classname="Claude Desktop Workflow Simulation › Realistic Claude Desktop Usage Scenarios" name="should handle Claude error scenarios gracefully" time="0">
      <failure>TypeError: Server.mockImplementation is not a function
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/claude-simulation.test.js:60:12)</failure>
    </testcase>
    <testcase classname="Claude Desktop Workflow Simulation › Claude Desktop Integration Patterns" name="should support Claude workflow chaining" time="0.001">
      <failure>TypeError: Server.mockImplementation is not a function
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/claude-simulation.test.js:60:12)</failure>
    </testcase>
    <testcase classname="Claude Desktop Workflow Simulation › Claude Desktop Integration Patterns" name="should handle Claude context preservation across calls" time="0">
      <failure>TypeError: Server.mockImplementation is not a function
    at Object.&lt;anonymous&gt; (/Users/pw/code/everest/pipeliner/tests/mcp/claude-simulation.test.js:60:12)</failure>
    </testcase>
  </testsuite>
</testsuites>